<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>Smart Photo Album</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    
    <link rel="stylesheet" href="style1.css">
	
    
	<!-- Smart Photo Album code -->
    
    
</head>

<body>
    <center>
        <h1><font color="Blue">
            Smart Photo Album
        </font>
        </h1>
        
        <div class="bar">
            <input style="display:inline-block;" id="searchbar" class="searchbar" type="text" title="Search" placeholder="What do you want to search in your photo album?">
            <span><a style="display:inline-block;" href="#" onclick="searchFromVoice()"> <img class="voice" style="display:inline;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Google_mic.svg/716px-Google_mic.svg.png" title="Search by Voice"></a></span>
        </div>

        <div class="buttons">
            <button onclick="search()" class="button" type="button">Search Photos</button>
        </div>
        

        <br>
        <br>
        <div class="bar">
            <input style="display:inline-block;" id="customlabels" class="searchbar" type="text" title="Upload" placeholder="Custom Labels (if any)">
        </div>
<!--             
        <div class="buttons">
            <input type="file" id="realfile" onchange="previewFile(this);" hidden="hidden"/>
            <button onclick="upload()" class="button" type="button">Upload Photo</button>
        </div> -->


  <div class="container">
        <form method="post" action="" enctype="multipart/form-data" id="myform">
            <div >
                <input type="file" id="file" name="file"/>
                <input type="button" class="button" value="Upload Image" id="but_upload">
            </div>
        </form>
    </div>
    <div class="container">
        <div id="images">
        </div>
    </div>

        <script src="render.js"></script>
        <script src="https://cdn.rawgit.com/mattdiamond/Recorderjs/08e7abd9/dist/recorder.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	
	

    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.179.0.min.js"></script>
	<script type="text/javascript" src="lib/axios/dist/axios.standalone.js"></script>
	<script type="text/javascript" src="lib/CryptoJS/rollups/hmac-sha256.js"></script>
	<script type="text/javascript" src="lib/CryptoJS/rollups/sha256.js"></script>
	<script type="text/javascript" src="lib/CryptoJS/components/hmac.js"></script>
	<script type="text/javascript" src="lib/CryptoJS/components/enc-base64.js"></script>
	<script type="text/javascript" src="lib/url-template/url-template.js"></script>
	<script type="text/javascript" src="lib/apiGatewayCore/sigV4Client.js"></script>
	<script type="text/javascript" src="lib/apiGatewayCore/apiGatewayClient.js"></script>
	<script type="text/javascript" src="lib/apiGatewayCore/simpleHttpClient.js"></script>
	<script type="text/javascript" src="lib/apiGatewayCore/utils.js"></script>
    <script type="text/javascript" src="apigClient.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript">
    $(document).ready(function(){

        $("#but_upload").click(function(){

            // var fd = new FormData();
            var files = $('#file')[0].files[0];
            var customLabels = document.getElementById("customlabels").value;
            console.log(customLabels)
            let config = {
                headers:{'Content-Type': files.type,'x-amz-meta-customLabels': customLabels}
            };

            url = 'https://k63lp2ur0c.execute-api.us-west-2.amazonaws.com/dev/upload/photo-bucket-b2/' + files.name
            console.log(url)
            axios.put(url,files,config).then(response=>{
                // console.log(response.data)
                alert("Upload successful!!");
            })
        });
    });
     </script>
    </center>
    
</body>

</html>